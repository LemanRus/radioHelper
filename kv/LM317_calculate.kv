<LM317CalculateScreen>:
    name: "lm317_cal"
    BoxLayout:
        orientation: "vertical"
        MDScreenTitle:
            text: "LM317/LM350/LM338 калькулятор"
        MDSeparator:
            height: dp(3)
        RippleCard:
            on_release: root.manager.current = "LM317_voltage"
            MDLabelCenter:
                text: "Стабилизатор напряжения"
        MDSeparator:
        RippleCard:
            on_release: root.manager.current = "LM317_current"
            MDLabelCenter:
                text: "Стабилизатор тока"
        MDSeparator:

<LM317Voltage>:
    name: "LM317_voltage"
    BoxLayout:
        orientation: "vertical"
        MDScreenTitle:
            text: "Стабилизатор напряжения на LM317/LM350/LM338"
        MDSeparator:
            height: dp(3)
        BoxLayout:
#            MDCard10:
#                MDLabelCenter:
#                    text: "Выходное напряжение:"
#            MDCard10:
#                size_hint_x: 0.1
#                MDTextField:
#                    id: lm317_vout_input
#                    multiline: False
#                    halign: "center"
#                    pos_hint: {"center_x": .5, "center_y": .5}
                #TODO:
#            TextInput:
#                id: lm317_vout_input
#                size_hint_x: 0.1
#                multiline: False
#                halign: "center"
#                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
#            MDCard:
#                size_hint_x: 0.1
#                MDLabelCenter:
#                    text: "В"
            MDCard10:
                MDTextField:
                    id: lm317_vout_input
                    hint_text: "Выходное напряжение, В"
                    pos_hint: {"center_x": 1, "center_y": .5}
                    multiline: False
                    halign: "center"
        BoxLayout:
#            MDCard10:
#                MDLabelCenter:
#                    text: "Сопротивление R1:"
#            TextInput:
#                id: lm317_r1_input
#                size_hint_x: 0.1
#                multiline: False
#                halign: "center"
#                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
#                on_text_validate:
#            MDCard:
#                size_hint_x: 0.1
#                MDLabelCenter:
#                    text: "Ом"
            MDCard10:
                MDTextField:
                    id: lm317_vout_input
                    hint_text: "Сопротивление R1, Ом"
                    pos_hint: {"center_x": 1, "center_y": .5}
                    multiline: False
                    halign: "center"
        BoxLayout:
#            MDCard10:
#                MDLabelCenter:
#                    text: "Ток нагрузки:"
#            TextInput:
#                id: lm317_iout_input
#                size_hint_x: 0.1
#                multiline: False
#                halign: "center"
#                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
#                on_text_validate:
#            MDCard:
#                size_hint_x: 0.1
#                MDLabelCenter:
#                    text: "А"
            MDCard10:
                MDTextField:
                    id: lm317_iout_input
                    hint_text: "Ток нагрузки, А"
                    pos_hint: {"center_x": 1, "center_y": .5}
                    multiline: False
                    halign: "center"
        BoxLayout:
#            MDCard10:
#                MDLabelCenter:
#                    text: "Входное напряжение:"
#            TextInput:
#                id: lm317_vin_input
#                size_hint_x: 0.1
#                multiline: False
#                halign: "center"
#                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
#                on_text_validate:
#            MDCard:
#                size_hint_x: 0.1
#                MDLabelCenter:
#                    text: "В"
            MDCard10:
                MDTextField:
                    id: lm317_vin_input
                    hint_text: "Входное напряжение, В"
                    pos_hint: {"center_x": 1, "center_y": .5}
                    multiline: False
                    halign: "center"
        MDSeparator:
        CalculateButton:
            on_release: root.calculate_lm317_voltage(lm317_vout_input.text, lm317_r1_input.text, lm317_iout_input.text, lm317_vin_input.text)
        MDSeparator:
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Сопротивление R2:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_r2_output
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Стандартное сопротивление R2:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_r2_corrected_output
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Выходное напряжение:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_vout_output
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Рекомендуемый тип стабилизатора:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_recommend_output
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Рассеиваемая мощность:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_power_output

<LM317Current>:
    name: "LM317_current"
    BoxLayout:
        orientation: "vertical"
        MDScreenTitle:
            text: "Стабилизатор тока на LM317/LM350/LM338"
        MDSeparator:
            height: dp(3)
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Выходной ток:"
            TextInput:
                id: lm317_iout_input_cur
                size_hint_x: 0.1
                multiline: False
                halign: "center"
                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
                on_text_validate:
            MDCard:
                size_hint_x: 0.1
                MDLabelCenter:
                    text: "А"
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Падение напряжения на нагрузке:"
            TextInput:
                id: lm317_vout_input_cur
                size_hint_x: 0.1
                multiline: False
                halign: "center"
                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
                on_text_validate:
            MDCard:
                size_hint_x: 0.1
                MDLabelCenter:
                    text: "В"
        MDSeparator:
        CalculateButton:
            on_release: root.calculate_lm317_current(lm317_iout_input_cur.text, lm317_vout_input_cur.text)
        MDSeparator:
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Сопротивление R1:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_r1_output_cur
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Сопротивление R1 из стандартного ряда:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_r1_corrected_output_cur
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Мощность:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_r1_power_output_cur
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Мощность с резистором из стандартного ряда:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_r1_power_corrected_output_cur
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Выходной ток с резистором из стандартного ряда:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_iout_corrected_output_cur
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Рекомендуемый тип стабилизатора:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_recommend_output_cur
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Входное напряжение, не менее:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_vin_output_cur