<LM317CalculateScreen>:
    name: "lm317_cal"
    BoxLayout:
        orientation: "vertical"
        MDScreenTitle:
            text: "LM317/LM350/LM338 калькулятор"
        MDSeparator:
            height: dp(3)
        RippleCard:
            on_release: root.manager.current = "LM317_voltage"
            MDLabelCenter:
                text: "Стабилизатор напряжения"
        MDSeparator:
        RippleCard:
            on_release: root.manager.current = "LM317_current"
            MDLabelCenter:
                text: "Стабилизатор тока"
        MDSeparator:

<LM317Voltage>:
    name: "LM317_voltage"
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Выходное напряжение:"
            TextInput:
                id: lm317_vout_input
                size_hint_x: 0.1
                multiline: False
                halign: "center"
                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            MDCard:
                size_hint_x: 0.1
                MDLabelCenter:
                    text: "В"
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Сопротивление R1:"
            TextInput:
                id: lm317_r1_input
                size_hint_x: 0.1
                multiline: False
                halign: "center"
                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
                on_text_validate:
            MDCard:
                size_hint_x: 0.1
                MDLabelCenter:
                    text: "Ом"
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Ток нагрузки:"
            TextInput:
                id: lm317_iout_input
                size_hint_x: 0.1
                multiline: False
                halign: "center"
                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
                on_text_validate:
            MDCard:
                size_hint_x: 0.1
                MDLabelCenter:
                    text: "А"
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Входное напряжение:"
            TextInput:
                id: lm317_vin_input
                size_hint_x: 0.1
                multiline: False
                halign: "center"
                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
                on_text_validate:
            MDCard:
                size_hint_x: 0.1
                MDLabelCenter:
                    text: "В"
        MDSeparator:
        CalculateButton:
            on_release: root.calculate_lm317_voltage(lm317_vout_input.text, lm317_r1_input.text, lm317_iout_input.text, lm317_vin_input.text)
        MDSeparator:
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Сопротивление R2:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_r2_output
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Стандартное сопротивление R2:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_r2_corrected_output
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Выходное напряжение:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_vout_output
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Рекомендуемый тип стабилизатора:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_recommend_output
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Рассеиваемая мощность:"
            MDCard10:
                size_hint_x: 0.3
                MDBorderedLabel:
                    id: lm317_power_output

<LM317Current>:
    name: "LM317_current"
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Выходной ток:"
            TextInput:
                id: lm317_iout_input_cur
                size_hint_x: 0.1
                multiline: False
                halign: "center"
                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
                on_text_validate:
            MDCard:
                size_hint_x: 0.1
                MDLabelCenter:
                    text: "А"
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Падение напряжения на нагрузке:"
            TextInput:
                id: lm317_vout_input_cur
                size_hint_x: 0.1
                multiline: False
                halign: "center"
                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
                on_text_validate:
            MDCard:
                size_hint_x: 0.1
                MDLabelCenter:
                    text: "В"
        MDSeparator:
        CalculateButton:
            on_release: root.calculate_lm317_current(lm317_iout_input_cur.text, lm317_vout_input_cur.text)
        MDSeparator:
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Сопротивление R1:"
            MDCard:
                size_hint_x: 0.3
                MDLabelCenter:
                id: lm317_r1_output_cur
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Сопротивление R1 из стандартного ряда:"
            MDCard:
                size_hint_x: 0.3
                MDLabelCenter:
                    id: lm317_r1_corrected_output_cur
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Мощность:"
            MDCard:
                size_hint_x: 0.3
                MDLabelCenter:
                    id: lm317_r1_power_output_cur
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Мощность с резистором из стандартного ряда:"
            MDCard:
                size_hint_x: 0.3
                MDLabelCenter:
                    id: lm317_r1_power_corrected_output_cur
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Выходной ток с резистором из стандартного ряда:"
            MDCard:
                size_hint_x: 0.3
                MDLabelCenter:
                    id: lm317_iout_corrected_output_cur
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Рекомендуемый тип стабилизатора:"
            MDCard:
                size_hint_x: 0.3
                MDLabelCenter:
                    id: lm317_recommend_output_cur
        BoxLayout:
            MDCard10:
                MDLabelCenter:
                    text: "Входное напряжение, не менее:"
            MDCard:
                size_hint_x: 0.3
                MDLabelCenter:
                    id: lm317_vin_output_cur